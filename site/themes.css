/* Theme tokens */
:root,
html[data-theme="dark"] {
  color-scheme: dark;
  --bg: #0e0e11;
  --fg: #f9fafb;
  --muted: rgba(249, 250, 251, 0.65);
  --muted-strong: rgba(249, 250, 251, 0.85);
  --accent: #9dd06a;
  --accent-2: #baff5c;
  --accent-fg: #0e0e11;
  --accent-soft: rgba(157, 208, 106, 0.15);
  --accent-strong: rgba(157, 208, 106, 0.7);
  --surface: rgba(255, 255, 255, 0.04);
  --surface-2: rgba(255, 255, 255, 0.08);
  --surface-alt: rgba(255, 255, 255, 0.01);
  --surface-header: rgba(14, 14, 17, 0.9);
  --surface-menu: rgba(14, 14, 17, 0.97);
  --surface-panel: rgba(12, 14, 18, 0.92);
  --surface-panel-strong: rgba(12, 14, 18, 0.96);
  --surface-muted: #1a1a1f;
  --surface-cookie: rgba(20, 22, 26, 0.95);
  --surface-graph: #0c0c0f;
  --surface-canvas: rgba(8, 9, 13, 0.9);
  --border: rgba(255, 255, 255, 0.12);
  --border-soft: rgba(255, 255, 255, 0.08);
  --border-subtle: rgba(255, 255, 255, 0.06);
  --border-strong: rgba(255, 255, 255, 0.3);
  --shadow: 0 30px 90px rgba(0, 0, 0, 0.55);
  --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.35);
  --shadow-strong: 0 22px 70px rgba(0, 0, 0, 0.6);
  --shadow-card: 8px 8px 18px rgba(0, 0, 0, 0.25), -4px -4px 10px rgba(255, 255, 255, 0.02);
  --shadow-inset: rgba(0, 0, 0, 0.25);
  --hero-drop-shadow: drop-shadow(0 90px 180px rgba(0, 0, 0, 0.85));
  --btn-bg: transparent;
  --btn-border: var(--border);
  --btn-fg: var(--muted);
  --btn-hover-bg: rgba(255, 255, 255, 0.04);
  --btn-outline-bg: #ffffff;
  --btn-outline-border: rgba(0, 0, 0, 0.15);
  --btn-outline-fg: #0b0d12;
  --btn-outline-hover-bg: #f2f3f5;
  --btn-outline-hover-border: rgba(0, 0, 0, 0.25);
  --btn-secondary-bg: rgba(255, 255, 255, 0.1);
  --btn-secondary-border: rgba(255, 255, 255, 0.28);
  --btn-secondary-fg: #ffffff;
  --btn-secondary-hover-bg: rgba(157, 208, 106, 0.22);
  --btn-secondary-hover-border: rgba(157, 208, 106, 0.7);
  --table-bg: rgba(255, 255, 255, 0.06);
  --table-row: transparent;
  --table-row-alt: rgba(255, 255, 255, 0.035);
  --table-divider: rgba(255, 255, 255, 0.08);
  --table-row-optional: rgba(86, 180, 255, 0.08);
  --table-row-optional-border: rgba(86, 180, 255, 0.45);
  --table-row-optional-hover: rgba(86, 180, 255, 0.11);
  --table-row-alternative: rgba(255, 198, 92, 0.08);
  --table-row-alternative-border: rgba(255, 198, 92, 0.5);
  --table-row-alternative-hover: rgba(255, 198, 92, 0.11);
  --table-row-choice: rgba(255, 255, 255, 0.04);
  --table-card-bg: linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.03));
  --table-card-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
  --table-card-inset: rgba(255, 255, 255, 0.04);
  --table-card-active-shadow: 0 14px 34px rgba(0, 0, 0, 0.42);
  --table-card-focus-shadow: 0 18px 44px rgba(0, 0, 0, 0.45);
  --badge-required-bg: rgba(255, 255, 255, 0.06);
  --badge-required-border: rgba(255, 255, 255, 0.16);
  --badge-required-fg: var(--muted);
  --badge-optional-bg: rgba(86, 180, 255, 0.18);
  --badge-optional-border: rgba(86, 180, 255, 0.4);
  --badge-optional-fg: #cfe9ff;
  --badge-alternative-bg: rgba(255, 198, 92, 0.18);
  --badge-alternative-border: rgba(255, 198, 92, 0.45);
  --badge-alternative-fg: #ffe3b3;
  --badge-choice-bg: rgba(186, 133, 255, 0.2);
  --badge-choice-border: rgba(186, 133, 255, 0.45);
  --badge-choice-fg: #ead7ff;
  --legend-required: rgba(255, 255, 255, 0.85);
  --legend-optional: #cfe9ff;
  --legend-choice: #ead7ff;
  --overlay: rgba(10, 12, 17, 0.72);
  --overlay-strong: rgba(0, 0, 0, 0.85);
  --viewer-stage-bg: radial-gradient(circle at top, rgba(20, 22, 33, 0.9), rgba(8, 9, 13, 0.95));
  --link-muted: #8da2b8;
  --cookie-text: #c7cbd1;
  --danger: #f2b3b3;
}

@media (prefers-color-scheme: light) {
  :root {
    color-scheme: light;
    --bg: #f5f6f8;
    --fg: #111317;
    --muted: rgba(17, 19, 23, 0.6);
    --muted-strong: rgba(17, 19, 23, 0.82);
    --accent: #7fb84c;
    --accent-2: #6ea03a;
    --accent-fg: #0f1115;
    --accent-soft: rgba(127, 184, 76, 0.2);
    --accent-strong: rgba(127, 184, 76, 0.55);
    --surface: #ffffff;
    --surface-2: #f0f2f5;
    --surface-alt: #f8f9fb;
    --surface-header: rgba(245, 246, 248, 0.92);
    --surface-menu: rgba(255, 255, 255, 0.98);
    --surface-panel: #ffffff;
    --surface-panel-strong: #f6f8fb;
    --surface-muted: #e4e6ea;
    --surface-cookie: rgba(255, 255, 255, 0.95);
    --surface-graph: #ffffff;
    --surface-canvas: #f1f3f6;
    --border: rgba(17, 19, 23, 0.12);
    --border-soft: rgba(17, 19, 23, 0.08);
    --border-subtle: rgba(17, 19, 23, 0.06);
    --border-strong: rgba(17, 19, 23, 0.28);
    --shadow: 0 30px 90px rgba(17, 19, 23, 0.12);
    --shadow-soft: 0 18px 40px rgba(17, 19, 23, 0.08);
    --shadow-strong: 0 22px 70px rgba(17, 19, 23, 0.18);
    --shadow-card: 6px 6px 16px rgba(17, 19, 23, 0.08), -4px -4px 10px rgba(255, 255, 255, 0.6);
    --shadow-inset: rgba(17, 19, 23, 0.12);
    --hero-drop-shadow: drop-shadow(0 60px 130px rgba(17, 19, 23, 0.18));
    --btn-bg: rgba(255, 255, 255, 0.7);
    --btn-border: rgba(17, 19, 23, 0.18);
    --btn-fg: rgba(17, 19, 23, 0.7);
    --btn-hover-bg: #ffffff;
    --btn-outline-bg: #ffffff;
    --btn-outline-border: rgba(17, 19, 23, 0.2);
    --btn-outline-fg: #111317;
    --btn-outline-hover-bg: #f1f3f6;
    --btn-outline-hover-border: rgba(17, 19, 23, 0.3);
    --btn-secondary-bg: #ffffff;
    --btn-secondary-border: rgba(17, 19, 23, 0.25);
    --btn-secondary-fg: #111317;
    --btn-secondary-hover-bg: rgba(127, 184, 76, 0.18);
    --btn-secondary-hover-border: rgba(127, 184, 76, 0.55);
    --table-bg: #f1f3f6;
    --table-row: #ffffff;
    --table-row-alt: #f7f8fa;
    --table-divider: rgba(17, 19, 23, 0.08);
    --table-row-optional: rgba(86, 145, 208, 0.12);
    --table-row-optional-border: rgba(86, 145, 208, 0.4);
    --table-row-optional-hover: rgba(86, 145, 208, 0.18);
    --table-row-alternative: rgba(255, 198, 92, 0.2);
    --table-row-alternative-border: rgba(255, 198, 92, 0.5);
    --table-row-alternative-hover: rgba(255, 198, 92, 0.28);
    --table-row-choice: #f0f2f5;
    --table-card-bg: linear-gradient(180deg, #ffffff, #f4f6f9);
    --table-card-shadow: 0 10px 22px rgba(17, 19, 23, 0.12);
    --table-card-inset: rgba(255, 255, 255, 0.6);
    --table-card-active-shadow: 0 14px 26px rgba(17, 19, 23, 0.18);
    --table-card-focus-shadow: 0 18px 30px rgba(17, 19, 23, 0.2);
    --badge-required-bg: rgba(17, 19, 23, 0.06);
    --badge-required-border: rgba(17, 19, 23, 0.16);
    --badge-required-fg: rgba(17, 19, 23, 0.7);
    --badge-optional-bg: rgba(86, 145, 208, 0.18);
    --badge-optional-border: rgba(86, 145, 208, 0.45);
    --badge-optional-fg: #1f4f7a;
    --badge-alternative-bg: rgba(255, 198, 92, 0.25);
    --badge-alternative-border: rgba(255, 198, 92, 0.55);
    --badge-alternative-fg: #7a4a00;
    --badge-choice-bg: rgba(171, 133, 220, 0.2);
    --badge-choice-border: rgba(171, 133, 220, 0.5);
    --badge-choice-fg: #4a2a78;
    --legend-required: rgba(17, 19, 23, 0.85);
    --legend-optional: #1f4f7a;
    --legend-choice: #4a2a78;
    --overlay: rgba(233, 236, 241, 0.82);
    --overlay-strong: rgba(20, 22, 26, 0.7);
    --viewer-stage-bg: radial-gradient(circle at top, rgba(247, 249, 252, 0.95), rgba(230, 233, 238, 0.95));
    --link-muted: #5a6d85;
    --cookie-text: #56606c;
    --danger: #b23a3a;
  }
}

html[data-theme="light"] {
  color-scheme: light;
  --bg: #f5f6f8;
  --fg: #111317;
  --muted: rgba(17, 19, 23, 0.6);
  --muted-strong: rgba(17, 19, 23, 0.82);
  --accent: #7fb84c;
  --accent-2: #6ea03a;
  --accent-fg: #0f1115;
  --accent-soft: rgba(127, 184, 76, 0.2);
  --accent-strong: rgba(127, 184, 76, 0.55);
  --surface: #ffffff;
  --surface-2: #f0f2f5;
  --surface-alt: #f8f9fb;
  --surface-header: rgba(245, 246, 248, 0.92);
  --surface-menu: rgba(255, 255, 255, 0.98);
  --surface-panel: #ffffff;
  --surface-panel-strong: #f6f8fb;
  --surface-muted: #e4e6ea;
  --surface-cookie: rgba(255, 255, 255, 0.95);
  --surface-graph: #ffffff;
  --surface-canvas: #f1f3f6;
  --border: rgba(17, 19, 23, 0.12);
  --border-soft: rgba(17, 19, 23, 0.08);
  --border-subtle: rgba(17, 19, 23, 0.06);
  --border-strong: rgba(17, 19, 23, 0.28);
  --shadow: 0 30px 90px rgba(17, 19, 23, 0.12);
  --shadow-soft: 0 18px 40px rgba(17, 19, 23, 0.08);
  --shadow-strong: 0 22px 70px rgba(17, 19, 23, 0.18);
  --shadow-card: 6px 6px 16px rgba(17, 19, 23, 0.08), -4px -4px 10px rgba(255, 255, 255, 0.6);
  --shadow-inset: rgba(17, 19, 23, 0.12);
  --hero-drop-shadow: drop-shadow(0 60px 130px rgba(17, 19, 23, 0.18));
  --btn-bg: rgba(255, 255, 255, 0.7);
  --btn-border: rgba(17, 19, 23, 0.18);
  --btn-fg: rgba(17, 19, 23, 0.7);
  --btn-hover-bg: #ffffff;
  --btn-outline-bg: #ffffff;
  --btn-outline-border: rgba(17, 19, 23, 0.2);
  --btn-outline-fg: #111317;
  --btn-outline-hover-bg: #f1f3f6;
  --btn-outline-hover-border: rgba(17, 19, 23, 0.3);
  --btn-secondary-bg: #ffffff;
  --btn-secondary-border: rgba(17, 19, 23, 0.25);
  --btn-secondary-fg: #111317;
  --btn-secondary-hover-bg: rgba(127, 184, 76, 0.18);
  --btn-secondary-hover-border: rgba(127, 184, 76, 0.55);
  --table-bg: #f1f3f6;
  --table-row: #ffffff;
  --table-row-alt: #f7f8fa;
  --table-divider: rgba(17, 19, 23, 0.08);
  --table-row-optional: rgba(86, 145, 208, 0.12);
  --table-row-optional-border: rgba(86, 145, 208, 0.4);
  --table-row-optional-hover: rgba(86, 145, 208, 0.18);
  --table-row-alternative: rgba(255, 198, 92, 0.2);
  --table-row-alternative-border: rgba(255, 198, 92, 0.5);
  --table-row-alternative-hover: rgba(255, 198, 92, 0.28);
  --table-row-choice: #f0f2f5;
  --table-card-bg: linear-gradient(180deg, #ffffff, #f4f6f9);
  --table-card-shadow: 0 10px 22px rgba(17, 19, 23, 0.12);
  --table-card-inset: rgba(255, 255, 255, 0.6);
  --table-card-active-shadow: 0 14px 26px rgba(17, 19, 23, 0.18);
  --table-card-focus-shadow: 0 18px 30px rgba(17, 19, 23, 0.2);
  --badge-required-bg: rgba(17, 19, 23, 0.06);
  --badge-required-border: rgba(17, 19, 23, 0.16);
  --badge-required-fg: rgba(17, 19, 23, 0.7);
  --badge-optional-bg: rgba(86, 145, 208, 0.18);
  --badge-optional-border: rgba(86, 145, 208, 0.45);
  --badge-optional-fg: #1f4f7a;
  --badge-alternative-bg: rgba(255, 198, 92, 0.25);
  --badge-alternative-border: rgba(255, 198, 92, 0.55);
  --badge-alternative-fg: #7a4a00;
  --badge-choice-bg: rgba(171, 133, 220, 0.2);
  --badge-choice-border: rgba(171, 133, 220, 0.5);
  --badge-choice-fg: #4a2a78;
  --legend-required: rgba(17, 19, 23, 0.85);
  --legend-optional: #1f4f7a;
  --legend-choice: #4a2a78;
  --overlay: rgba(233, 236, 241, 0.82);
  --overlay-strong: rgba(20, 22, 26, 0.7);
  --viewer-stage-bg: radial-gradient(circle at top, rgba(247, 249, 252, 0.95), rgba(230, 233, 238, 0.95));
  --link-muted: #5a6d85;
  --cookie-text: #56606c;
  --danger: #b23a3a;
}

@media (pointer: coarse), (max-width: 900px) {
  :root,
  html[data-theme="dark"] {
    --border: rgba(255, 255, 255, 0.2);
    --border-soft: rgba(255, 255, 255, 0.14);
    --border-subtle: rgba(255, 255, 255, 0.1);
    --btn-border: var(--border);
    --table-divider: var(--border-soft);
  }

  @media (prefers-color-scheme: light) {
    :root {
      --border: rgba(17, 19, 23, 0.18);
      --border-soft: rgba(17, 19, 23, 0.14);
      --border-subtle: rgba(17, 19, 23, 0.1);
      --btn-border: var(--border);
      --table-divider: var(--border-soft);
    }
  }

  html[data-theme="light"] {
    --border: rgba(17, 19, 23, 0.18);
    --border-soft: rgba(17, 19, 23, 0.14);
    --border-subtle: rgba(17, 19, 23, 0.1);
    --btn-border: var(--border);
    --table-divider: var(--border-soft);
  }
}
